1 REM ***** DOPE WARS EMESEQUIS ******
2 REM ***** INICIAMOS PANTALLA, VARIABLES, ARRAY Y GRAFICOS *****
3 DEFINTA-Z:SCREEN1:WIDTH32:KEYOFF:COLOR15,1,1:SCREEN2,0,0:BLOAD"GFX.BIN",S:POKE&HFCAF,1
4 IFINKEY$=""GOTO4
5 SCREEN 2: BLOAD"LOGO01.SC2",S
6 IFINKEY$=""GOTO4
13 C=0: BARRIO=0: VIDA=100: DAY=1: DINERO=1000: DEUDA=3000:DIM D(4,7): DIM E(7): DIM I(8)
14 SPRITE$(0)=CHR$(&H0)+CHR$(&H10)+CHR$(&H18)+CHR$(&H3C)+CHR$(&H3E)+CHR$(&H3C)+CHR$(&H18)+CHR$(&H10)
15 ON STRIG GOSUB 9000
16 RESTORE 10000:FOR B=0TO4:FOR A=0TO7:READ V:D(B,A)=V: NEXT A: NEXT B: RESTORE
17 REM ***** EMPIEZA LA MOVIDA *****
18 SEED=TIME:CLS
20 REM **** LOOP PRINCIPAL ****
30 GOTO 190
50 REM **** PLACE HOLDER DE COSAS INTERESANTES (SI TE LO CURRAS, SI NO, CACAFUTI)
60 GOTO 50
190 REM ***** IMPRIMIMOS SITIOS Y CALCULAMOS SUS PRECIOS *****
195 CLS
200 LOCATE 1,2:PRINT "VIDA";VIDA
201 LOCATE 10,2:PRINT "DIA";DAY
202 LOCATE 18,2:PRINT "DINERO";DINERO
209 LOCATE 12,4: RESTORE 10005:FORT=0TOBARRIO:READ T$:NEXT T:PRINT T$
210 LOCATE 6,7: T$="ANFETAMINA":P=45:GOSUB 20000:E(0)=C: R=D(BARRIO,0):GOSUB 20005:PRINT T$;M
220 LOCATE 6,8: T$="HACHIS    ":P=35:GOSUB 20000:E(1)=C: R=D(BARRIO,1):GOSUB 20005:PRINT T$;M
230 LOCATE 6,9: T$="MARIHUANA ":P=25:GOSUB 20000:E(2)=C: R=D(BARRIO,2):GOSUB 20005:PRINT T$;M
240 LOCATE 6,10: T$="COCAINA   ":P=20:GOSUB 20000:E(3)=C: R=D(BARRIO,3):GOSUB 20005:PRINT T$;M
250 LOCATE 6,11: T$="MDMA      ":P=18:GOSUB 20000:E(4)=C: R=D(BARRIO,4):GOSUB 20005:PRINT T$;M
260 LOCATE 6,12: T$="KRIPTONITA":P=16:GOSUB 20000:E(5)=C: R=D(BARRIO,5):GOSUB 20005:PRINT T$;M
270 LOCATE 6,13: T$="CRISTAL   ":P=12:GOSUB 20000:E(6)=C: R=D(BARRIO,6):GOSUB 20005:PRINT T$;M
280 LOCATE 6,14: T$="PEGAMENTO ":P=10:GOSUB 20000:E(7)=C: R=D(BARRIO,7):GOSUB 20005:PRINT T$;M
300 K$=INKEY$:IFK$="v"ORK$="V" GOTO 400 ELSE 310
310 K$=INKEY$:IFK$="i"ORK$="I" GOTO 500 ELSE 320
320 K$=INKEY$:IFK$="c"ORK$="C" GOTO 600 ELSE 300
400 REM ***** SELECCION DE BARRIO PARA VIAJAR *****
405 CLS:Y=59
410 LOCATE 8,1:PRINT "BARRIOS"
420 LOCATE 6,8: PRINT "LUTXANA"
430 LOCATE 6,9: PRINT "LA IBERIA"
440 LOCATE 6,10: PRINT "OTXARKOAGA"
450 LOCATE 6,11: PRINT "BARRIKA"
460 LOCATE 6,12: PRINT "GALLUFA"
470 PUT SPRITE 0,(50,59),8,0:BARRIO=0
471 C=STICK(0):STRIG(0) ON
472 IF C=0 THEN 471
473 IF C=1 THEN Y = Y-10:BARRIO=BARRIO-1
474 IF C=5 THEN Y = Y+10:BARRIO=BARRIO+1
475 IF Y<59THENY=59:IF BARRIO<0THENBARRIO=0
477 IF Y>99THENY=99:IF BARRIO>4THENBARRIO=4
478 PUT SPRITE 0,(50,Y),8,0:FORT=0TO200:NEXTT
480 GOTO 471
500 REM ***** VISIONADO DE INVENTARIO Y DEUDA *****
505 CLS:Y=59
510 LOCATE 8,1:PRINT "INVENTARIO"
515 LOCATE 6,3:PRINT "MOCHILA:";I(6);"$"
520 LOCATE 6,6:PRINT USING "ANFETAMINA: #";I(0)
530 LOCATE 6,7:PRINT USING "HACHIS: #####";I(1)
540 LOCATE 6,8:PRINT USING "MARIHUANA: ##";I(2)
550 LOCATE 6,9:PRINT USING "COCAINA: ####";I(3)
560 LOCATE 6,10:PRINT USING "MDMA: #######";I(4)
565 LOCATE 6,11:PRINT USING "KRIPTONITA: #";I(5)
570 LOCATE 6,12:PRINT USING "CRISTAL: ####";I(7)
575 LOCATE 6,13:PRINT USING "PEGAMENTO: ##";I(7)
580 LOCATE 6,14:PRINT USING "MUNICION: ###";I(7)
590 K$=INKEY$:IFK$="m"ORK$="M" GOTO 190 ELSE 590
600 REM ***** COMPRA VENTA MADAFAKAS *****
605 CLS:Y=29
610 LOCATE 8,1:PRINT "TRAPICHEAR"
611 LOCATE 14,5:PRINT "UNI."
612 LOCATE 20,5:PRINT "STOCK"
620 LOCATE 2,6:PRINT "ANFETAMINA: ";E(0);"   ";I(0)
630 LOCATE 2,7:PRINT "HACHIS:     ";E(1);"   ";I(1)
640 LOCATE 2,8:PRINT "MARIHUANA:  ";E(2);"   ";I(2)
650 LOCATE 2,9:PRINT "COCAINA:    ";E(3);"   ";I(3)
660 LOCATE 2,10:PRINT "MDMA:       ";E(4);"   ";I(4)
665 LOCATE 2,11:PRINT "KRIPTONITA: ";E(5);"   ";I(5)
666 LOCATE 2,12:PRINT "CRISTAL:    ";E(6);"   ";I(6)
667 LOCATE 2,13:PRINT "PEGAMENTO:  ";E(5);"   ";I(5)
670 PUT SPRITE 0,(5,48),8,0:DROJA=0
671 C=STICK(0):STRIG(0) ON
672 IF C=0 THEN 671
673 IF C=1 THEN Y = Y-8:DROJA=DROJA-1
674 IF C=5 THEN Y = Y+8:DROJA=DROJA+1
675 IF Y<48THENY=48:IF DROJA<0THENDROJA=0
677 IF Y>104THENY=104:IF DROJA>7THENDROJA=7
678 PUT SPRITE 0,(5,Y),8,0:FORT=0TO200:NEXTT
690 K$=INKEY$:IFK$="m"ORK$="M" GOTO 190 ELSE 671
8999 REM **** LA SUBRUTINA DEL SPACIO ****
9000 PUT SPRITE 0,(0,0),0,0:STRIG(0) OFF:DAY = DAY+1
9010 GOTO 190
9999 REM **** PRECIOS POR BARRIO (X) Y DROJA (Y) ****
10000 DATA 10,50,100,300,600,1500,2000,2100
10001 DATA 12,45,80,250,750,3000,3200,3300
10002 DATA 8,40,60,350,950,1900,2000,2100
10003 DATA 10,55,40,320,400,1200,1500,2000
10004 DATA 9,25,30,700,480,2200,2300,2500
10005 DATA "LUTXANA","LA IBERIA","OTXARKOAGA","BARRIKA","GALLUFA"
19999 REM **** PORCENTAJE SEGUN PRECIO QUE USAMOS TAMBIEN PARA CANTIDAD DISPONIBLE****
20000 C=INT(RND(-SEED)*P):
20001 RETURN
20004 REM **** P ES EL PORCENTAJE, U ES EL RANDOM PARA EL NEGATIVO Y M EL RESULTADO (SUMANDO O RESTANDO ALEATORIAMENTE) ****
20005 FORT=0TO INT(RND(-TIME)*100):NEXTT:P=(R/100)*C:U=INT(RND(1)*2):IF U=1THEN GOTO 20006 ELSE M=INT(P+R):RETURN
20006 M=INT(R-P)
20007 RETURN
