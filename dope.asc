1 REM ***** DOPE WARS EMESEQUIS ******
2 REM ***** INICIAMOS PANTALLA, VARIABLES, ARRAY Y GRAFICOS *****
3 SCREEN 2: BLOAD"LOGO01.SC2",S
4 K$=INKEY$:IFK$=" " GOTO10 ELSE 4
10 SCREEN 2:COLOR 15,1,1: C=0: BARRIO=0: VIDA=100: DAY=1: DINERO=1000: DEUDA=3000:DIM D(4,5): DIM E(5): DIM I(7): OPEN"grp:" FOR OUTPUT AS #1
11 SPRITE$(0)=CHR$(&H0)+CHR$(&H10)+CHR$(&H18)+CHR$(&H3C)+CHR$(&H3E)+CHR$(&H3C)+CHR$(&H18)+CHR$(&H10)
12 ON STRIG GOSUB 9000
13 FOR B=0TO4:FOR A=0TO5:READ V:D(B,A)=V: NEXT A: NEXT B: RESTORE
14 REM ***** EMPIEZA LA MOVIDA *****
17 SEED=TIME:CLS
20 REM **** LOOP PRINCIPAL ****
30 GOTO 190
50 REM **** PLACE HOLDER DE COSAS INTERESANTES (SI TE LO CURRAS, SI NO, CACAFUTI)
60 GOTO 50
190 REM ***** IMPRIMIMOS SITIOS Y CALCULAMOS SUS PRECIOS *****
195 CLS
200 PRESET (10,20):PRINT #1,"VIDA:":PRESET (40,20):PRINT #1,VIDA
201 PRESET (80,20):PRINT #1,"DIA:":PRESET (110,20):PRINT #1,DAY
202 PRESET (140,20):PRINT #1,"DINERO:":PRESET (190,20):PRINT #1,DINERO
209 PRESET (90,35): RESTORE 10005:FORT=0TOBARRIO:READ T$:NEXT T:PRINT #1,T$
210 PRESET (60,60): T$="ANFETAMINA":P=45:GOSUB 20000:E(0)=C: R=D(BARRIO,0):GOSUB 20005:PRINT #1,T$,M
220 PRESET (60,70): T$="HACHIS    ":P=35:GOSUB 20000:E(1)=C: R=D(BARRIO,1):GOSUB 20005:PRINT #1,T$,M
230 PRESET (60,80): T$="MARIHUANA ":P=25:GOSUB 20000:E(2)=C: R=D(BARRIO,2):GOSUB 20005:PRINT #1,T$,M
240 PRESET (60,90): T$="COCAINA   ":P=20:GOSUB 20000:E(3)=C: R=D(BARRIO,3):GOSUB 20005:PRINT #1,T$,M
250 PRESET (60,100): T$="MDMA      ":P=20:GOSUB 20000:E(4)=C: R=D(BARRIO,4):GOSUB 20005:PRINT #1,T$,M
260 PRESET (60,110): T$="KRIPTONITA":P=15:GOSUB 20000:E(5)=C: R=D(BARRIO,5):GOSUB 20005:PRINT #1,T$,M
300 K$=INKEY$:IFK$="v"ORK$="V" GOTO 400 ELSE 310
310 K$=INKEY$:IFK$="i"ORK$="I" GOTO 500 ELSE 320
320 K$=INKEY$:IFK$="c"ORK$="C" GOTO 600 ELSE 300
400 REM ***** SELECCION DE BARRIO PARA VIAJAR *****
405 CLS:Y=59
410 PRESET (80,15):PRINT #1,"BARRIOS"
420 PRESET (60,60): PRINT #1,"Lutxana"
430 PRESET (60,70): PRINT #1,"La Iberia"
440 PRESET (60,80): PRINT #1,"Otxarkoaga"
450 PRESET (60,90): PRINT #1,"Barrika"
460 PRESET (60,100): PRINT #1,"Gallufa"
470 PUT SPRITE 0,(50,59),8,0:BARRIO=0
471 C=STICK(0):STRIG(0) ON
472 IF C=0 THEN 471
473 IF C=1 THEN Y = Y-10:BARRIO=BARRIO-1
474 IF C=5 THEN Y = Y+10:BARRIO=BARRIO+1
475 IF Y<59THENY=59:IF BARRIO<0THENBARRIO=0
477 IF Y>99THENY=99:IF BARRIO>4THENBARRIO=4
478 PUT SPRITE 0,(50,Y),8,0:FORT=0TO200:NEXTT
480 GOTO 471
500 REM ***** VISIONADO DE INVENTARIO Y DEUDA *****
505 CLS:Y=59
510 PRESET (80,15):PRINT #1,"INVENTARIO"
520 PRESET (60,30):PRINT #1,"ANFETAMINA:":PRESET (140,30):PRINT #1,I(0)
530 PRESET (60,40):PRINT #1,"HACHIS:":PRESET (140,40):PRINT #1,I(1)
540 PRESET (60,50):PRINT #1,"MARIHUANA:":PRESET (140,50):PRINT #1,I(2)
550 PRESET (60,60):PRINT #1,"COCAINA:":PRESET (140,60):PRINT #1,I(3)
560 PRESET (60,70):PRINT #1,"MDMA:":PRESET (140,70):PRINT #1,I(4)
565 PRESET (60,80):PRINT #1,"KRIPTONITA:":PRESET (140,80):PRINT #1,I(5)
570 PRESET (60,90):PRINT #1,"MOCHILA:":PRESET (140,90):PRINT #1,I(6);"$"
580 PRESET (60,100):PRINT #1,"MUNICION:":PRESET (140,100):PRINT #1,I(7)
585 PRESET (60,120):PRINT #1,"DEUDA:":PRESET (120,120):PRINT #1,DEUDA
590 K$=INKEY$:IFK$="m"ORK$="M" GOTO 190 ELSE 585
600 REM ***** COMPRA VENTA MADAFAKAS *****
605 CLS:Y=59
610 PRESET (80,15):PRINT #1,"TRAPICHEAR"
611 PRESET (140,50):PRINT #1,"UNI."
612 PRESET (180,50):PRINT #1,"STOCK"
620 PRESET (60,60):PRINT #1,"ANFETAMINA:":PRESET (140,60):PRINT #1,E(0): PRESET (180,60):PRINT #1,I(0)
630 PRESET (60,70):PRINT #1,"HACHIS:":PRESET (140,70):PRINT #1,E(1): PRESET (180,70):PRINT #1,I(1)
640 PRESET (60,80):PRINT #1,"MARIHUANA:":PRESET (140,80):PRINT #1,E(2): PRESET (180,80):PRINT #1,I(2)
650 PRESET (60,90):PRINT #1,"COCAINA:":PRESET (140,90):PRINT #1,E(3): PRESET (180,90):PRINT #1,I(3)
660 PRESET (60,100):PRINT #1,"MDMA:":PRESET (140,100):PRINT #1,E(4): PRESET (180,100):PRINT #1,I(4)
665 PRESET (60,110):PRINT #1,"KRIPTONITA:":PRESET (140,110):PRINT #1,E(5): PRESET (180,110):PRINT #1,I(5)
670 PUT SPRITE 0,(50,59),8,0:DROJA=0
671 C=STICK(0):STRIG(0) ON
672 IF C=0 THEN 671
673 IF C=1 THEN Y = Y-10:DROJA=DROJA-1
674 IF C=5 THEN Y = Y+10:DROJA=DROJA+1
675 IF Y<59THENY=59:IF DROJA<0THENDROJA=0
677 IF Y>109THENY=109:IF DROJA>5THENDROJA=5
678 PUT SPRITE 0,(50,Y),8,0:FORT=0TO200:NEXTT
680 K$=INKEY$:IFK$="m"ORK$="M" GOTO 190 ELSE 671
680 GOTO 671
8999 REM **** LA SUBRUTINA DEL SPACIO ****
9000 PUT SPRITE 0,(0,0),0,0:STRIG(0) OFF:DAY = DAY+1
9010 GOTO 190
9999 REM **** PRECIOS POR BARRIO (X) Y DROJA (Y) ****
10000 DATA 10,50,100,300,600,1500
10001 DATA 12,45,80,250,750,3000
10002 DATA 8,40,60,350,950,1900
10003 DATA 10,55,40,320,400,1200
10004 DATA 9,25,30,700,480,2200
10005 DATA "Lutxana","La Iberia","Otxarkoaga","Barrika","Gallufa"
19999 REM **** PORCENTAJE SEGUN PRECIO QUE USAMOS TAMBIEN PARA CANTIDAD DISPONIBLE****
20000 C=INT(RND(-SEED)*P):
20001 RETURN
20004 REM **** P ES EL PORCENTAJE, U ES EL RANDOM PARA EL NEGATIVO Y M EL RESULTADO (SUMANDO O RESTANDO ALEATORIAMENTE) ****
20005 FORT=0TO INT(RND(-TIME)*100):NEXTT:P=(R/100)*C:U=INT(RND(1)*2):IF U=1THEN GOTO 20006 ELSE M=INT(P+R):RETURN
20006 M=INT(R-P)
20007 RETURN
